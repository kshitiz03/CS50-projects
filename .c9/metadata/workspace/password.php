{"filter":false,"title":"password.php","tooltip":"/password.php","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":36,"column":2},"action":"insert","lines":["<?php","    // configuration","    require(\"../includes/config.php\"); ","\t","    // if form was submitted","    if ($_SERVER[\"REQUEST_METHOD\"] == \"POST\")","    {","    \tif(empty($_POST[\"password\"]) || empty($_POST[\"confirmation\"]) ||$_POST[\"password\"] != $_POST[\"confirmation\"])","    \t{","\t\t    // validate submission","\t\t    if (empty($_POST[\"password\"]))","\t\t    {","\t\t        apologize(\"You must provide a new password.\");","\t\t    }","\t\t    else if (empty($_POST[\"confirmation\"]))","\t\t    {","\t\t        apologize(\"You must confirm your password.\");","\t\t    }","\t\t    else if($_POST[\"password\"] != $_POST[\"confirmation\"])","\t\t\t{","\t\t\t\tapologize(\"Password doesn't equal the confirmation\");","\t\t\t}","\t\t}else","\t\t{","\t\t\t// create new encrypted password","\t\t\t$hash = crypt($_POST[\"password\"]);","\t\t\t$id = $_SESSION[\"id\"];","\t\t\t","\t\t\t// update the account to the new password","\t\t\tquery(\"UPDATE users SET hash='$hash' WHERE id=$id\"); ","\t\t\trender(\"password.php\");","\t\t}","\t}else","\t{","\t\trender(\"change_password.php\", [\"title\" => \"Password\"]);","\t}","?>"],"id":1}]]},"ace":{"folds":[],"scrolltop":198,"scrollleft":0,"selection":{"start":{"row":16,"column":55},"end":{"row":16,"column":55},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":11,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1461241647610,"hash":"2a02a334bb4f6a46520d2ad4e889ce8bbf7a1e38"}